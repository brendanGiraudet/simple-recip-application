@page "/ingredients"
@using simple_recip_application.Features.IngredientsManagement.Pages;
@using Microsoft.AspNetCore.Components.Web;

@inherits IngredientsBase

<h3>@LabelsLocalizer["IngredientList"]</h3>

<a href="/add-ingredient">@LabelsLocalizer["AddIngredient"]</a>

<p class="@GetLoadingVisibilityCssClass()">@MessagesLocalizer["LoadingInProgress"]</p>
<p class="@GetErrorVisibilityCssClass()" style="color: red;">@IngredientState.Value.ErrorMessage</p>

<ul class="@GetIngredientsVisibilityCssClass()">
    @foreach (var ingredient in IngredientState.Value.Ingredients)
    {
        <li>
            @ingredient.Name
            <button @onclick="() => UpdateIngredient(ingredient.Id)" class="btn btn-info">@LabelsLocalizer["Update"]</button>
            <button @onclick="() => DeleteIngredient(ingredient.Id)" class="btn btn-danger">@LabelsLocalizer["Delete"]</button>
        </li>
    }
</ul>

<button @onclick="@LoadIngredients">@LabelsLocalizer["LoadIngredients"]</button>